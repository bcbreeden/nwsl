{% extends 'base.html' %}

{% block content %}
<!-- Goals -->
<section class="index-metric">
    <h2 class="index-metric-heading">Goals</h2>
    <table>   
        <tbody>
            {% for player in top_scorers %}
            <tr>
                <td><img class="team-icon" src="{{ url_for('static', filename='img/' + player['team_abbreviation'] + '.png') }}"></td>
                <td class="name-table">
                    {% if player['player_first_name'] == '' %}
                        <span class="player_last_name">{{player['player_last_name'] }}</span>
                    {% else %}
                        <span class="player_first_name">{{player['player_first_name'] }}</span>
                        <br/><span class="player_last_name">{{player['player_last_name'] }}</span>
                    {% endif %}
                </td>
                <td class="right-table">{{ player['goals'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>

<!-- Assists -->
<section class="index-metric">
    <h2 class="index-metric-heading">Assists</h2>
    <table>       
        <tbody>
            {% for player in top_assists %}
            <tr>
                <td><img class="team-icon" src="{{ url_for('static', filename='img/' + player['team_abbreviation'] + '.png') }}"></td>
                <td class="name-table">
                    {% if player['player_first_name'] == '' %}
                        <span class="player_last_name">{{player['player_last_name'] }}</span>
                    {% else %}
                        <span class="player_first_name">{{player['player_first_name'] }}</span>
                        <br/><span class="player_last_name">{{player['player_last_name'] }}</span>
                    {% endif %}
                </td>
                <td class="right-table">{{ player['primary_assists'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>

<!-- Shots -->
<section class="index-metric">
    <h2 class="index-metric-heading">Shots</h2>
    <table>       
        <tbody>
            {% for player in total_shots %}
            <tr>
                <td><img class="team-icon" src="{{ url_for('static', filename='img/' + player['team_abbreviation'] + '.png') }}"></td>
                <td class="name-table">
                    {% if player['player_first_name'] == '' %}
                        <span class="player_last_name">{{player['player_last_name'] }}</span>
                    {% else %}
                        <span class="player_first_name">{{player['player_first_name'] }}</span>
                        <br/><span class="player_last_name">{{player['player_last_name'] }}</span>
                    {% endif %}
                </td>
                <td class="right-table">{{ player['shots'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>

<!-- Minutes Played Non-Defender -->
<section class="index-metric">
    <h2 class="index-metric-heading">Minutes Played</h2>
    <table>       
        <tbody>
            {% for player in minutes_played_non_df %}
            <tr>
                <td><img class="team-icon" src="{{ url_for('static', filename='img/' + player['team_abbreviation'] + '.png') }}"></td>
                <td class="name-table">
                    {% if player['player_first_name'] == '' %}
                        <span class="player_last_name">{{player['player_last_name'] }}</span>
                    {% else %}
                        <span class="player_first_name">{{player['player_first_name'] }}</span>
                        <br/><span class="player_last_name">{{player['player_last_name'] }}</span>
                    {% endif %}
                </td>
                <td class="right-table">{{ player['minutes_played'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <h4 class="notation">* Goalkeepers and DF players are excluded. Non-DF players are generally subbed more often.</h4>
</section>

<!-- Minutes Played Defender -->
<section class="index-metric">
    <h2 class="index-metric-heading">Minutes Played - DF</h2>
    <table>       
        <tbody>
            {% for player in minutes_played_df %}
            <tr>
                <td><img class="team-icon" src="{{ url_for('static', filename='img/' + player['team_abbreviation'] + '.png') }}"></td>
                <td class="name-table">
                    {% if player['player_first_name'] == '' %}
                        <span class="player_last_name">{{player['player_last_name'] }}</span>
                    {% else %}
                        <span class="player_first_name">{{player['player_first_name'] }}</span>
                        <br/><span class="player_last_name">{{player['player_last_name'] }}</span>
                    {% endif %}
                </td>
                <td class="right-table">{{ player['minutes_played'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <h4 class="notation">* Generally, defenders are not subbed on/off as often. That is why they get their own category.</h4>
</section>

<!-- Shots on Target -->
<section class="index-metric">
    <h2 class="index-metric-heading">Shots on Target</h2>
    <table>
        <tbody>
            {% for player in shots_on_target %}
                <tr>
                    <td><img class="team-icon" src="{{ url_for('static', filename='img/' + player['team_abbreviation'] + '.png') }}"></td>
                    <td class="name-table">
                        {% if player['player_first_name'] == '' %}
                            <span class="player_last_name">{{player['player_last_name'] }}</span>
                        {% else %}
                            <span class="player_first_name">{{player['player_first_name'] }}</span>
                            <br/><span class="player_last_name">{{player['player_last_name'] }}</span>
                        {% endif %}
                    </td>
                    <td class="right-table">{{player['shots_on_target_perc'] }}%</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <h4 class="notation">* Highest percentage of shots on target with at least 5 total shots.</h4>
</section>

<div class="plot_container">
    {{ team_goal_point_plot | safe }}
</div>
{% endblock %}