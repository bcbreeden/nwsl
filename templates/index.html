{% extends 'base.html' %}

{% block content %}
<!-- Standings -->
<!-- <section class="index-metric">
    <h2 class="index-metric-heading">Standings</h2>
    <table id='standings'>        
        <tbody>
            {% for team in team_points_data %}
            <tr>
                <td><img class="team-icon" src="{{ url_for('static', filename='img/' + team['team_abbreviation'] + '.png') }}"></td>
                <td class="name-table"><span class="player_first_name">{{ team['team_name'] }}</span></td>
                <td class="right-table-standings player_first_name">{{ team['points'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section> -->

<!-- Goals -->
<section class="index-metric">
    <h2 class="index-metric-heading">Goals</h2>
    <table>   
        <tbody>
            {% for player in top_scorers %}
            <tr>
                <td><img class="team-icon" src="{{ url_for('static', filename='img/' + player['team_abbreviation'] + '.png') }}"></td>
                <td class="name-table">
                    <span class="player_first_name">{{player['player_first_name'] }}</span>
                    <br/><span class="player_last_name">{{player['player_last_name'] }}</span>
                </td>
                <td class="right-table">{{ player['goals'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>

<!-- Assists -->
<section class="index-metric">
    <h2 class="index-metric-heading">Assists</h2>
    <table>       
        <tbody>
            {% for player in top_assists %}
            <tr>
                <td><img class="team-icon" src="{{ url_for('static', filename='img/' + player['team_abbreviation'] + '.png') }}"></td>
                <td class="name-table">
                    <span class="player_first_name">{{player['player_first_name'] }}</span>
                    <br/><span class="player_last_name">{{player['player_last_name'] }}</span>
                </td>
                <td class="right-table">{{ player['primary_assists'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>

<!-- Minutes Played Non-Defender -->
<section class="index-metric">
    <h2 class="index-metric-heading">Minutes Played</h2>
    <table>       
        <tbody>
            {% for player in minutes_played_non_df %}
            <tr>
                <td><img class="team-icon" src="{{ url_for('static', filename='img/' + player['team_abbreviation'] + '.png') }}"></td>
                <td class="name-table">
                    <span class="player_first_name">{{player['player_first_name'] }}</span>
                    <br/><span class="player_last_name">{{player['player_last_name'] }}</span>
                </td>
                <td class="right-table">{{ player['minutes_played'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <h4 class="notation">* Goalkeepers and DF players are excluded. Non-DF players are generally subbed more often.</h4>
</section>

<!-- Minutes Played Defender -->
<section class="index-metric">
    <h2 class="index-metric-heading">Minutes Played - DF</h2>
    <table>       
        <tbody>
            {% for player in minutes_played_df %}
            <tr>
                <td><img class="team-icon" src="{{ url_for('static', filename='img/' + player['team_abbreviation'] + '.png') }}"></td>
                <td class="name-table">
                    <span class="player_first_name">{{player['player_first_name'] }}</span>
                    <br/><span class="player_last_name">{{player['player_last_name'] }}</span>
                </td>
                <td class="right-table">{{ player['minutes_played'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <h4 class="notation">* Generally, defenders are not subbed on/off as often. That is why they get their own category.</h4>
</section>

<!-- Shots on Target -->
<section class="index-metric">
    <h2 class="index-metric-heading">Shots on Target</h2>
    <table>
        <tbody>
            {% for player in shots_on_target %}
                <tr>
                    <td><img class="team-icon" src="{{ url_for('static', filename='img/' + player['team_abbreviation'] + '.png') }}"></td>
                    <td class="name-table">
                        <span class="player_first_name">{{player['player_first_name'] }}</span>
                        <br/><span class="player_last_name">{{player['player_last_name'] }}</span>
                    </td>
                    <td class="right-table">{{player['shots_on_target_perc'] }}%</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <h4 class="notation">* Highest percentage of shots on target with at least 10 total shots.</h4>
</section>

<div class="plot_container">
    {{ team_goal_point_plot | safe }}
</div>
{% endblock %}